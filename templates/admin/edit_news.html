{% extends "base.html" %}
{% block title %}<title>Редактирование новостей</title>{% endblock %}
{% block link %}
<link rel="stylesheet" href="{{ url_for('static', filename='CSS/news.css') }} ">{% endblock %}
{% block content %}
<div class="container edit-news-container">
    <div class="header">
        <h1 class="page-title">Редактирование новостей</h1>
    </div>

    <div class="news-list">
        {% for new in news.items %}
        <a href="#" class="news-link">
            <div class="news-item">
                <div class="news-image">
                    <img src="{{new.image}}" alt="{{new.title}}">
                </div>
                <div class="news-content">
                    <h2 class="news-title">{{new.title}}</h2>
                    <div class="news-date">{{new.date.strftime('%d.%m.%Y %H:%M')}}</div>
                </div>
                <div class="news-actions">
                    <a href="/admin/edit_news/{{new.id}}" class="btn-edit">Изменить</a>
                    <a href="/admin/delete_news/{{new.id}}" class="btn-delete">Удалить</a>
                </div>
            </div>
        </a>
        {% endfor %}
        <!-- Пагинация -->
        <div class="pagination">
            <!-- Кнопка "Назад" -->
            {% if news.has_prev %}
            <a href="{{ url_for('edit_news', page=news.prev_num) }}">« Назад</a>
            {% else %}
            <span class="disabled">« Назад</span>
            {% endif %}

            <!-- Номера страниц -->
            {% for page_num in news.iter_pages(left_edge=2, left_current=2, right_current=3, right_edge=2) %}
            {% if page_num %}
            {% if page_num == news.page %}
            <span class="current">{{ page_num }}</span>
            {% else %}
            <a href="{{ url_for('edit_news', page=page_num) }}">{{ page_num }}</a>
            {% endif %}
            {% else %}
            <span class="ellipsis">...</span>
            {% endif %}
            {% endfor %}

            <!-- Кнопка "Вперед" -->
            {% if news.has_next %}
            <a href="{{ url_for('edit_news', page=news.next_num) }}">Вперед »</a>
            {% else %}
            <span class="disabled">Вперед »</span>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}

